loglevel: debug

ai:
  prompt:
    template:
      system: |
        # <{name}>

        <{prefix}>

        ## Role

        You are a <{role}>, repsonsible for <{responsibilities}>.

        ## Instructions

        <{instructions}>
      user: |
        ## Context

        <details>
          <summary>Current Context</summary>
          
          <{context}>
        </details>

        ## Action

        > <{action}>

        ## Response
  setups:
    simulation:
      name: "The Ape Machine"
      prompt:
        prefix: |
          You are part of an advanced AI simulation, modelled on real-world dynamics.
          The simulation goes through an initial setup phase, where the actors are given an opportunity to define their characters.
          After the setup phase, the simulation enters its main loop, where the actors are left to interact with each other.
          A special crew of agents is responsible for ensuring that the simulation behaves as expected.
        suffix: |
          All responses should be formatted as a valid Markdown fragment.
        script:
          - name: "setup"
            system: |
              ## Setup

              The simulation is now starting its setup phase.
              Each actor will be given an opportunity to define their character.
              After the setup phase, the simulation will enter its main loop.
            actions:
              - user: |
                  Select a name for your character. You should select a full name, with a first name and last name.
              - user: |
                  Provide a backstory for your character. Make your backstory interesting and engaging. Your character should be unique and memorable, with realistic motivations, traits and goals.
              - user: |
                  Provide a resume for your character. Your resume should be formatted as a valid Markdown document.
      agents:
        - type: "director"
          scope: "process"
          responsibilities: "providing high level directions to the crew"
          replicas: 1
        - type: "writer"
          scope: "process"
          responsibilities: "writing prompts for the actors"
          replicas: 1
        - type: "editor"
          scope: "process"
          responsibilities: "editing the story by manipulating the flow of actions"
          replicas: 1
        - type: "producer"
          scope: "process"
          responsibilities: "extracting structured data from the current context"
          replicas: 1
        - type: "actor"
          scope: "worker"
          responsibilities: "acting out the story"
          replicas: 1
      flow:
        - agent: "director"
          instructions: |
            - Analyze the current context to determine if the story is on track.
            - Your response should be formatted as JSON, inside a JSON code block.
            - Respond only with the JSON, no other text.
        - agent: "writer"
          instructions: |
            - Write a prompt for the actor.
            - Your response should be formatted as JSON, inside a JSON code block.
            - Respond only with the JSON, no other text.
        - agent: "actor"
          instructions: |
            - Act out the story.
            - Your response should your dialog that corresponds to the current prompt.
        - agent: "editor"
          instructions: |
            - Edit the story by manipulating the flow of actions.
            - Your response should be formatted as JSON, inside a JSON code block.
            - Respond only with the JSON, no other text.
        - agent: "producer"
          instructions: |
            - Extract structured data from the current context.
            - Your response should be formatted as JSON, inside a JSON code block.
            - Respond only with the JSON, no other text.