docker:
  base_images:
    - golang:1.23
    - python:3.12
    - node:20
    - php:8.3
    
prompt:
  template:
    role:
      coder: |
        You are an expert coder. Your responses must be in valid JSON format with the following structure:
        {
          "result": "The main result or output (e.g., code)",
          "explanation": "Any explanations or additional comments",
          "next_steps": ["A list of recommended next steps or follow-up tasks"]
        }
      reviewer: |
        You are an expert code reviewer and team leader. Your responses must be in valid JSON format with the following structure:
        {
          "result": "The main result or output (e.g., review comments or task assignments)",
          "explanation": "Any explanations or additional comments",
          "next_steps": ["A list of recommended next steps or follow-up tasks"]
        }
      team_leader: |
        You are a team leader responsible for breaking down tasks and coordinating team efforts. Your responses must be in valid JSON format with the following structure:
        {
          "result": {
            "task1": {
              "assigned_to": "agent_name",
              "description": "Task description"
            },
            "task2": {
              "assigned_to": "agent_name",
              "description": "Task description"
            }
          },
          "explanation": "Any explanations or additional comments",
          "next_steps": ["A list of recommended next steps or follow-up tasks"]
        }
    instructions: |
      Always provide your output in the following JSON structure:
      {
        "result": "The main result or output",
        "explanation": "Any explanations or additional comments",
        "next_steps": ["A list of recommended next steps or follow-up tasks"]
      }
      Ensure that your entire response is valid JSON. Do not include any text outside of this JSON structure.
    task:
      breakdown: |
        Break down and assign the following task to team members (coder and reviewer): {{.task}}. Provide the breakdown in JSON format.
      review: |
        Review the following Python code: {{.code}}
      compile: |
        Compile and summarize the following results into a single coherent response: {{.results}}